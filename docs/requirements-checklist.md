# متطلبات تطوير برنامج المحاسبة والمخزون (من وثيقة العميل)

الحالة الحالية: لم يتم فحص النظام بعد مقابل البنود أدناه. استخدم العلامات لتحديث الحالة بعد المراجعة أو الإنجاز.

## 1) تغييرات وتحسينات عامة
- [ ] تغيير الشعار والصورة الرئيسية.
- [ ] دعم اللغة الإنجليزية بالكامل إلى جانب العربية.
- [ ] أرصدة افتتاحية للحسابات وكميات الجرد (المخزون).
- [ ] إقفال السنة المالية مع إمكانية فتح السنوات المقفلة للعرض فقط بدون تعديل.
- [ ] نسخ احتياطي للنظام/قاعدة البيانات.
- [ ] إعدادات النظام الموحدة: ترقيم تلقائي/يدوي للأصناف/الأقسام/المجموعات/الماركات، تنبيهات تلقائية (انتهاء كمية أو تاريخ صنف أو وثائق مندوب)، إعدادات الطباعة (A4/A5/كاشير)، إعدادات الحسابات والمخزون، وضع نقاط البيع (لمس/عادي)، الصلاحيات والمستخدمين.
- [ ] خيار تقييد دخول المستخدم من جهاز واحد أو السماح بعدة أجهزة.
- [ ] تسلسل فواتير/مستندات مستقل لكل مستخدم.
- [ ] عرض بيانات الفروع (سجل تجاري، رقم ضريبي، عنوان، تواصل، مسؤول الفرع).
- [ ] في الإقرار الضريبي: عند اختيار جميع الفروع مع أرقام ضريبية مختلفة يجب اختيار الرقم الضريبي تجنباً لخلط الضرائب.
- [ ] المصروفات: حقل ضريبة مع ترحيل تلقائي للضريبة إلى حساب الضريبة.
- [ ] وضع Offline مؤقت لتخزين العمليات محلياً (خصوصاً فواتير المبيعات) ومزامنتها عند عودة الاتصال.
- [ ] تذييل حقوق: "جميع الحقوق محفوظة لمؤسسة فن الاحتراف" مع سنة محدثة تلقائياً.

## 2) لوحة المشتركين (Dashboard SaaS)
- [ ] لوحة مستقلة (تسجيل دخول) مرتبطة بالبرنامج عبر API.
- [ ] إدارة نسخ العملاء: اسم المنشأة، السجل، الرقم الضريبي، العنوان، التواصل، الأشخاص المسؤولون، تاريخ البداية/النهاية، تاريخ ومبلغ التجديد، عدد المستخدمين، عدد مرات التجديد، روابط النسخ.
- [ ] أرشفة مستندات (السجل، الرخصة، العقود...).
- [ ] مراقبة النسخ: السارية، قاربت على الانتهاء، المنتهية.
- [ ] مشاهدة النسخة (وضع قراءة فقط) بعد الانتهاء.
- [ ] اختصارات تجديد/تمديد يوم/شهر/سنة.
- [ ] CRUD كامل للبيانات والنسخ والمستخدمين.

## 3) كروت الإدخال
### العملاء
- [ ] حقل السجل التجاري الرئيسي.
- [ ] كيانات فرعية تحت نفس الرقم الضريبي (اسم سجل تجاري، رقم سجل، عنوان ورقم تواصل، حد ائتماني، خصم، مستوى سعر).
- [ ] ربط العميل بمستوى سعر محدد وافتراضي خصم.
- [ ] ربط العميل بمندوب.
- [ ] تقارير العملاء (نشطين/راكدين/موقوفين) مع اختصار لتقرير تفصيلي وفلاتر (تاريخ، رقم فاتورة، قيمة أقل/أكبر...).

### الموردون
- [ ] تقارير نشطين/راكدين/موقوفين مع اختصار لتقرير تفصيلي بنفس فلاتر العملاء.

### الأصناف
- [ ] وحدات متعددة ابتداءً بالأصغر لضمان الجرد (حبة/درزن/علبة/كرتون...).
- [ ] شجرة تصنيفات غير محدودة المستويات.
- [ ] 6+ أسعار بيع (قطاعي، جملة، عملاء خاصون، مناديب...).
- [ ] خيار أسعار شاملة ضريبة القيمة المضافة (تفعيل/إلغاء).
- [ ] ضرائب متعددة للصنف (VAT + ضريبة انتقائية تطبق على السعر الصافي قبل VAT).
- [ ] أرقام تشغيل/تشغيلات (Batch/Lot) مع تاريخ وتشغيلات متعددة.
- [ ] باركود يدوي/قارئ مع توليد باركود، وباركود مستقل لكل وحدة.
- [ ] نوع الصنف: خدمة أو مخزون، وقابلية تعديل النوع الافتراضي من الإعدادات.
- [ ] خدمات مرتبطة بالصنف (شحن/توصيل/تركيب) مع خيارات الرسوم (مضافة، متضمنة، مجانية).
- [ ] هامش ربح (نسبة أو مبلغ ثابت) لكل صنف أو لجميع الأصناف يحدث الأسعار بمجرد الشراء.
- [ ] عرض مواقع تواجد الصنف (مستودعات، كميات، تكلفة، آخر سعر بيع).
- [ ] دعم التشغيلات في البحث والتقارير (مبيعات/مشتريات/قائمة الأصناف/الفواتير).
- [ ] ألوان ومقاسات/متغيرات مع كميات لكل متغير.
- [ ] كرت خاص للمشاغل/التزيين النسائي مع ربط الأصناف بأقسام وتقارير (مبيعات/عملاء/تكاليف/أرباح) وربط مستخدمين بالأقسام.
- [ ] قائمة حجوزات حسب التاريخ/الوقت، القسم، الأصناف، الموظف، محلي/منزل مع موقع خرائط جوجل.
- [ ] تسعير حسب المستودع مع تغيير السعر عند التحويل.

### المندوبون
- [ ] بيانات كاملة (اسم، عنوان، تواصل، بريد، عنوان سكن في الدولة الأم، رقم إضافي).
- [ ] تنبيهات انتهاء الوثائق الرسمية.
- [ ] أرشيف مصغر (عقود، اتفاقيات، وثائق رسمية، استلام عهد).
- [ ] مستودع خاص بالمندوب (اختياري).
- [ ] نسبة ربح للمندوب.
- [ ] نسبة خصم للمندوب (بصلاحية).
- [ ] ربط المندوب بمستوى سعر معين.

## 4) الحسابات الختامية
- [ ] قائمة الدخل.
- [ ] قائمة دخل إجماليات.
- [ ] حساب المتاجرة.
- [ ] حساب الأرباح والخسائر.
- [ ] الميزانية العمومية.

## 5) الحسابات
- [ ] شجرة حسابات بمستويات معروضة في ميزان المراجعة.
- [ ] مراكز تكلفة.
- [ ] قيود افتتاحية ويومية.
- [ ] سند قبض متعدد وسند صرف متعدد.
- [ ] احتساب الضريبة عند إدخالها من المصروفات (استحقاق متنوع).
- [ ] قيود إقفال.

## 6) المخزون والمبيعات والمشتريات والعروض والتحويلات
### فواتير المبيعات
- [ ] إظهار تكلفة المنتج + آخر سعر بيع + الكمية المتوفرة في شاشة الفاتورة.
- [ ] اختيار الوحدة المباعة مع تحذير عند تكرار الصنف (لسماح بوحدات مختلفة).
- [ ] أنواع دفع: أجل (عميل إلزامي)، نقدي، شبكة، أو مزيج مع عدة بنوك للشبكة.
- [ ] مركز تكلفة (عميل + مندوب) قابل للإضافة快捷.
- [ ] احتساب الضريبة شامل/غير شامل.
- [ ] حقل ملاحظات.
- [ ] عند اختيار عميل افتراضي تظهر حقول اسم العميل ورقم الجوال.
- [ ] نوع الفاتورة: ضريبية/غير ضريبية/ضريبية مبسطة مع إمكانية تثبيت النوع وتعديله.
- [ ] شروط وأحكام/ضمان قابلة للحفظ والتعديل والحذف والطباعة.
- [ ] مقاسات طباعة: A4/A5/فاتورة نقطية (كاشير).
- [ ] منع تعديل أو حذف الفاتورة بعد الترحيل.
- [ ] منع تعديل التاريخ والوقت.
- [ ] بحث متقدم برقم/تاريخ/عميل/مندوب/صنف.
- [ ] اختصارات إضافة عميل/صنف/مندوب من شاشة الفاتورة.

### فواتير المشتريات
- [ ] نفس سلوك الوحدات والتحذير عند التكرار.
- [ ] أنواع دفع: أجل (مورد إلزامي)، نقدي، شبكة، أو مزيج مع عدة بنوك.
- [ ] مركز تكلفة (مورد + مندوب) قابل للإضافة快捷.
- [ ] احتساب الضريبة شامل/غير شامل.
- [ ] حقل ملاحظات.
- [ ] عند اختيار مورد افتراضي تظهر حقول اسم ورقم جوال.
- [ ] إدخال رقم تشغيله/باتش مع العدد والتاريخ.
- [ ] حفظ رقم فاتورة المورد كمرجع مع أرشفة صورة.
- [ ] إمكانية تعديل الفاتورة.
- [ ] بحث متقدم برقم/تاريخ/عميل/مندوب/صنف.

### عروض الأسعار
- [ ] إضافة/تعديل/حذف عرض سعر.
- [ ] مركز تكلفة (عميل + مندوب) قابل للإضافة快捷.
- [ ] تحويل العرض إلى فاتورة مبيعات مع اختيار الدفع.
- [ ] ضريبة شامل/غير شامل.
- [ ] تقرير عروض الأسعار مع فلاتر (تواريخ، أرقام، عميل...).

### العروض الترويجية
- [ ] عروض متعددة الأصناف بسعر عرض مع تحديد مدة أو كمية أو كليهما.
- [ ] باركود خاص أو مولد + إمكانية اختيار رقم تشغيله للصنف.
- [ ] ربط العرض بمندوب مع تاريخ/كمية.
- [ ] خصم الكمية تلقائياً من الأصناف المكونة للعرض.
- [ ] حالات العرض: تفعيل، إيقاف مؤقت، إنهاء، حذف.

### التحويلات بين المخازن والتالف
- [ ] طلب تحويل من مستودع إلى آخر (مسؤول يقدم الطلب بالأصناف والكميات).
- [ ] استلام الطلب من مسؤول المخزون: موافقة وإرسال الأصناف مع جرد، أو رفض مع سبب وتحويل لتقرير المرفوضة.
- [ ] تقارير الطلبات (الموافقة/المرفوضة) تتضمن بيانات المرسل/المستودعات/التاريخ/الأصناف/الكميات.
- [ ] تحويل كمية إلى تالف مع تتبع مناسب.

## 7) التقارير
### تقارير المحاسبة
- [ ] فلاتر شاملة (فرع، مركز تكلفة، من/إلى حساب، الحساب الرئيسي، مندوب، تاريخ، حسابات ذات رصيد، حركة غير مرحلة).
- [ ] فلاتر الإقرار الضريبي (اختيار فرع، الربع الأول/الثاني/الثالث/الرابع مع التاريخ الحالي).
- [ ] تقرير ضرائب إضافية (انتقائية أو أخرى).
- [ ] إجماليات اليومية العامة (بالمستندات/أنواع الحسابات/الحسابات).
- [ ] حركة يومية عامة.
- [ ] كشوف الحساب وطباعة.
- [ ] مطابقة رصيد عميل.
- [ ] إجمالي حركة حساب/الحسابات.
- [ ] الأستاذ العام.
- [ ] أرصدة الحسابات التفصيلية.
- [ ] تقارير السندات (قيود افتتاحية/يومية/قبض/قبض متعدد/صرف/صرف متعدد/إقفال).
- [ ] الحركة الشهرية للحسابات.
- [ ] الحسابات فوق الحد الأعلى/الأدنى.

### تقارير المخزون
- [ ] فلاتر شاملة (تاريخ، مستخدم، فرع، وحدة، صنف من/إلى، تصنيف، مورد/عميل، مستودع، تكلفة، حقول التقرير، مركز تكلفة، الأكثر/الأقل مبيعاً، الراكدة، من/إلى رقم فاتورة، مندوب، تصنيف سعر...).
- [ ] قوائم الملفات (الأصناف، التصنيفات، العملاء، الموردون، الموظفون، المستودعات، الأصول الثابتة، البنوك، الفروع، تصنيفات العملاء، تصنيفات المستخدمين، مجموعات الأصناف، قائمة المناديب).
- [ ] تقارير الأصناف: تنبيهات ذكية للحركة/الركود، تقرير الأصناف، وحدات، كميات، أسعار، تكلفة، أصناف واجب طلبها، تواريخ انتهاء، أصناف موقوفة، صور الأصناف، مطابقة الجرد.
- [ ] حركة الأصناف: مخزون صنف، حركة صنف، إجماليات حركة، تحليل حركة، الأصناف الأكثر ربحاً، الأصناف الراكدة، الأصناف الأكثر حركة.
- [ ] تقارير المخزون: قيمة المخزون، حركة المخزون، تحليل أعمار كميات الأصناف، تحليل حركة المخزون، عجز/زيادة الجرد.
- [ ] إجماليات الحركة: إجماليات مبيعات/مشتريات الأصناف، مجاميع حركة مبيعات الأصناف، إجماليات فواتير المبيعات، مجاميع حركة مشتريات الأصناف، إجماليات فواتير المشتريات، تقرير الحركة، تقرير المبيعات والمدفوع والشبكة.

### تقارير العملاء
- [ ] أرصدة العملاء.
- [ ] تحليل أعمار الديون.
- [ ] تحليل حركة العملاء.
- [ ] العملاء الراكدون.
- [ ] حركة العملاء (فواتير/مدفوعات/أصناف).
- [ ] الكميات المتبقية.
- [ ] العملاء الجدد خلال فترة.
- [ ] حركة عميل شهرية.
- [ ] حركة العميل حسب الأصناف أو الفروع.
- [ ] تقرير بيانات العملاء.

### تقارير الموردين
- [ ] أرصدة الموردين.
- [ ] تحليل أعمار ديون الموردين.
- [ ] تحليل حركة الموردين.
- [ ] حركة المورد الشهرية.
- [ ] حركة المورد حسب تصنيف/صنف/فرع.
- [ ] نسبة حركة مورد حسب الفروع.

### تقارير المناديب
- [ ] مبيعات وتحصيلات المناديب.
- [ ] مبيعات وتحصيلات المناديب لفترة معينة.
- [ ] عمولات المناديب (مبالغ ثابتة/نسب).
- [ ] أعمار وعمولات التحصيلات من تاريخ الفاتورة.
- [ ] عمولات المناديب لفترة أو مبالغ محددة.

### متفرقات التقارير
- [ ] إبراز كلمة "مردود" بجانب فواتير المردود في تقارير المبيعات/المشتريات وعدم جمعها ضمن الإجماليات.
- [ ] استمرار زر المرتجع حتى استرجاع كامل الكمية.

## 8) الجرد
- [ ] تمييز أرقام التشغيلات للصنف أثناء الجرد وإظهار المجرد والمتبقي لكل تشغيله.
- [ ] مساواة المخزون مع نتائج الجرد (تسويات).

## 9) نقاط البيع (POS)
- [ ] تصميم فواتير حرارية مناسب يتضمن بيانات المستخدم، عنوان الفاتورة (ضريبية مبسطة)، بيانات العميل، ملاحظة، شروط/سياسة استبدال/إرجاع.
- [ ] شاشة لمس بمجموعات الأصناف وصور المنتجات والأسعار.
- [ ] إمكانية العمل كشاشة مبيعات عادية مع تنسيقات واختصارات POS (دفع، عروض، ميزان...).
- [ ] وضع مطاعم/مقاهي: محلي/سفري، اختيار طاولة/دور، حجز مسبق، تقسيم مناطق (خارجي، VIP، عوائل/أفراد).
- [ ] تعيين شفت بوقت/تاريخ مع تحديد مستخدمين.
- [ ] تقارير POS: نهاية اليوم، الكميات المباعة مع الإجمالي، تقرير شفت بالكميات والقيم، الأصناف المباعة وإجمالياتها، تقرير تفصيلي، النقدي والشبكة، البيع حسب مستخدم، أصناف الميزان المباعة، الأرباح نسبة ومبلغ، إجمالي المبيعات والضريبة.

## 10) التصنيع
- [ ] قسم التصنيع بشاشة مستقلة وربط API (Bill of Materials بسيط، خصم مواد خام وإضافة المنتج التام للمخزون).
